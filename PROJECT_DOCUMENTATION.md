# üöö –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π –∏ –¥–æ—Å—Ç–∞–≤–∫–æ–π

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ë–î, Backend –∏ Frontend**

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
4. [Backend API (FastAPI)](#backend-api-fastapi)
5. [Frontend (HTML/JavaScript)](#frontend-htmljavascript)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
7. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-api)
8. [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π –∏ –¥–æ—Å—Ç–∞–≤–∫–æ–π** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–∑–æ–ø–µ—Ä–µ–≤–æ–∑–∫–∞–º–∏, –∑–∞–∫–∞–∑–∞–º–∏, –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∏ –≤–æ–¥–∏—Ç–µ–ª—è–º–∏
- ‚úÖ –í–µ–¥–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∏—Ö –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏ –∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–∏—è–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (shipments)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–æ–∫ –Ω–∞ –¥–æ–º
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:

```
Backend:  FastAPI + SQLAlchemy + PostgreSQL
Frontend: HTML5 + CSS3 + JavaScript (Vanilla)
Database: PostgreSQL 15+
Docker:   Docker + Docker Compose
Deployment: Linux/Windows/macOS
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Web Browser                           ‚îÇ
‚îÇ          (HTML5 + JavaScript Frontend)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ HTTP/REST
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Nginx Web Server                         ‚îÇ
‚îÇ         (Reverse Proxy + Static Files)                   ‚îÇ
‚îÇ                Port 8001                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ HTTP
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              FastAPI Backend Server                      ‚îÇ
‚îÇ          (API Routes + Business Logic)                   ‚îÇ
‚îÇ                Port 8000                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ TCP/IP
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          PostgreSQL Database Server                      ‚îÇ
‚îÇ         (Data Storage + Relationships)                   ‚îÇ
‚îÇ                Port 5432                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Docker Compose Network (All containers connected)
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –î–∏–∞–≥—Ä–∞–º–º–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π (ER)

```
employees (1) ‚îÄ‚îÄ‚Üí (N) drivers
    ‚Üë                  ‚Üì
    ‚îÇ                  (1)
    ‚îÇ                   ‚Üë
    ‚îÇ              (N) shipments ‚Üí (1) orders
    ‚îÇ                   ‚Üì              ‚Üì
    ‚îÇ              (1) vehicles   (1) warehouses
    ‚îÇ                   ‚Üë              ‚Üë
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        (N) customers
    
Additional:
deliveries ‚Üê shipments
routes ‚Üê shipments
```

### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

#### 1Ô∏è‚É£ **employees** (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)

```sql
CREATE TABLE employees (
    employee_id SERIAL PRIMARY KEY,
    full_name VARCHAR(255) NOT NULL,
    position VARCHAR(100) NOT NULL,      -- –î–æ–ª–∂–Ω–æ—Å—Ç—å
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20) NOT NULL,
    hire_date DATE NOT NULL,              -- –î–∞—Ç–∞ –ø—Ä–∏–µ–º–∞
    salary DECIMAL(10, 2) NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö –∫–æ–º–ø–∞–Ω–∏–∏ (–¥–∏—Ä–µ–∫—Ç–æ—Ä—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã, –ª–æ–≥–∏—Å—Ç—ã)

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**
```
| ID | –ò–º—è              | –î–æ–ª–∂–Ω–æ—Å—Ç—å           | Email                      | –ó–∞—Ä–ø–ª–∞—Ç–∞ |
|----|------------------|---------------------|----------------------------|----------|
| 1  | –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤      | –î–∏—Ä–µ–∫—Ç–æ—Ä            | ivan.petrov@logistics.ru   | 75000    |
| 2  | –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞   | –ú–µ–Ω–µ–¥–∂–µ—Ä            | maria.sidorova@logistics.ru| 65000    |
| 3  | –°–µ—Ä–≥–µ–π –ö—É–∑–Ω–µ—Ü–æ–≤  | –í–æ–¥–∏—Ç–µ–ª—å            | sergey.kuznetsov@...       | 55000    |
```

---

#### 2Ô∏è‚É£ **customers** (–ö–ª–∏–µ–Ω—Ç—ã)

```sql
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    company_name VARCHAR(255) NOT NULL,
    contact_person VARCHAR(255) NOT NULL,
    email VARCHAR(100) UNIQUE,
    phone VARCHAR(20) NOT NULL,
    city VARCHAR(100) NOT NULL,
    address VARCHAR(255) NOT NULL,
    postal_code VARCHAR(10),
    registration_date DATE NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–µ—Å—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤ (–∫–æ–º–ø–∞–Ω–∏–π), –∑–∞–∫–∞–∑—ã–≤–∞—é—â–∏—Ö –¥–æ—Å—Ç–∞–≤–∫—É

**–ü—Ä–∏–º–µ—Ä:**
```
| ID | –ö–æ–º–ø–∞–Ω–∏—è                    | –ö–æ–Ω—Ç–∞–∫—Ç              | –ì–æ—Ä–æ–¥             |
|----|-----------------------------|--------------------|-------------------|
| 1  | –û–û–û "–ê–ª—å—Ñ–∞ –≠–∫—Å–ø—Ä–µ—Å—Å"       | –ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤        | –ú–æ—Å–∫–≤–∞            |
| 2  | –ò–ü "–ë–µ—Ç–∞ –õ–æ–≥–∏—Å—Ç–∏–∫–∞"        | –í–∏–∫—Ç–æ—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞   | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥   |
```

---

#### 3Ô∏è‚É£ **drivers** (–í–æ–¥–∏—Ç–µ–ª–∏)

```sql
CREATE TABLE drivers (
    driver_id SERIAL PRIMARY KEY,
    employee_id INT NOT NULL UNIQUE,      -- –°–≤—è–∑—å —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º
    license_number VARCHAR(20) UNIQUE NOT NULL,
    license_expiry_date DATE NOT NULL,    -- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∞–≤
    experience_years INT NOT NULL,        -- –û–ø—ã—Ç –≤–æ–∂–¥–µ–Ω–∏—è
    rating DECIMAL(3, 2) DEFAULT 5.00,
    is_available BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–¥–∏—Ç–µ–ª—è—Ö —Å –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏

**–°–≤—è–∑—å:** –í–æ–¥–∏—Ç–µ–ª—å ‚Üí –°–æ—Ç—Ä—É–¥–Ω–∏–∫ (1:1)

---

#### 4Ô∏è‚É£ **vehicles** (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞)

```sql
CREATE TABLE vehicles (
    vehicle_id SERIAL PRIMARY KEY,
    license_plate VARCHAR(20) UNIQUE NOT NULL,  -- –ì–æ—Å. –Ω–æ–º–µ—Ä
    vehicle_type VARCHAR(50) NOT NULL,          -- Car, Van, Truck
    brand VARCHAR(100) NOT NULL,
    model VARCHAR(100) NOT NULL,
    year INT NOT NULL,
    capacity_kg DECIMAL(10, 2) NOT NULL,        -- –í–µ—Å, –∫–≥
    capacity_cubic_m DECIMAL(10, 2) NOT NULL,   -- –û–±—ä–µ–º, –º¬≥
    mileage INT DEFAULT 0,                      -- –ü—Ä–æ–±–µ–≥
    last_maintenance DATE,                      -- –ü–æ—Å–ª–µ–¥–Ω–µ–µ –¢–û
    is_available BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–µ—Å—Ç—Ä –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∫–æ–º–ø–∞–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```
| –ù–æ–º–µ—Ä    | –¢–∏–ø   | –ú–∞—Ä–∫–∞    | –û–±—ä–µ–º | –í–µ—Å     | –°—Ç–∞—Ç—É—Å       |
|----------|-------|----------|-------|---------|--------------|
| –ú–¢123–ê–ê  | Car   | Toyota   | 0.5–º¬≥ | 200–∫–≥   | –î–æ—Å—Ç—É–ø–µ–Ω     |
| –ú–¢300–°–°  | Truck | Volvo    | 65–º¬≥  | 15000–∫–≥ | –ù–∞ –æ–±—Å–ª—É–∂–∏–≤. |
```

---

#### 5Ô∏è‚É£ **warehouses** (–°–∫–ª–∞–¥—ã)

```sql
CREATE TABLE warehouses (
    warehouse_id SERIAL PRIMARY KEY,
    warehouse_name VARCHAR(255) NOT NULL,
    city VARCHAR(100) NOT NULL,
    address VARCHAR(255) NOT NULL,
    postal_code VARCHAR(10),
    manager_id INT,                       -- –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–∫–ª–∞–¥–∞
    capacity_items INT NOT NULL,          -- –ú–∞–∫—Å. –∫–æ–ª-–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
    current_items INT DEFAULT 0,          -- –¢–µ–∫—É—â–µ–µ –∫–æ–ª-–≤–æ
    phone VARCHAR(20),
    email VARCHAR(100),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (manager_id) REFERENCES employees(employee_id)
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏ –∏ –∑–∞–ø–∞—Å–∞–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```
| ID | –ù–∞–∑–≤–∞–Ω–∏–µ           | –ì–æ—Ä–æ–¥          | –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å | –¢–µ–∫—É—â–∏–µ —Ç–æ–≤–∞—Ä—ã |
|----|-------------------|----------------|-------------|----------------|
| 1  | –ú–æ—Å–∫–æ–≤—Å–∫–∏–π —Å–∫–ª–∞–¥   | –ú–æ—Å–∫–≤–∞         | 10000       | 7500           |
| 2  | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–±    | –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥   | 15000       | 12000          |
```

---

#### 6Ô∏è‚É£ **delivery_routes** (–ú–∞—Ä—à—Ä—É—Ç—ã –¥–æ—Å—Ç–∞–≤–∫–∏)

```sql
CREATE TABLE delivery_routes (
    route_id SERIAL PRIMARY KEY,
    route_name VARCHAR(255) NOT NULL,
    start_location VARCHAR(255) NOT NULL,
    end_location VARCHAR(255) NOT NULL,
    distance_km DECIMAL(10, 2) NOT NULL,
    estimated_duration_hours DECIMAL(5, 2) NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –º–µ–∂–¥—É –≥–æ—Ä–æ–¥–∞–º–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```
| ID | –ú–∞—Ä—à—Ä—É—Ç                    | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ | –í—Ä–µ–º—è |
|----|----------------------------|-----------|-------|
| 1  | –ú–æ—Å–∫–≤–∞ - –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥   | 700 –∫–º    | 10—á   |
| 2  | –ú–æ—Å–∫–≤–∞ - –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥      | 1800 –∫–º   | 24—á   |
```

---

#### 7Ô∏è‚É£ **orders** (–ó–∞–∫–∞–∑—ã)

```sql
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    order_number VARCHAR(50) UNIQUE NOT NULL,  -- ORD-2024-00001
    customer_id INT NOT NULL,                  -- –ö–ª–∏–µ–Ω—Ç
    warehouse_id INT NOT NULL,                 -- –ò—Å—Ö–æ–¥–Ω–æ–π —Å–∫–ª–∞–¥
    order_date DATE NOT NULL,
    delivery_date DATE NOT NULL,               -- –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –¥–∞—Ç–∞
    description VARCHAR(500),
    total_weight_kg DECIMAL(10, 2),
    total_volume_cubic_m DECIMAL(10, 2),
    status VARCHAR(50) DEFAULT 'Pending',      -- –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
    priority VARCHAR(20) DEFAULT 'Normal',     -- Low, Normal, High, Urgent
    cost DECIMAL(10, 2) NOT NULL,
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id),
    FOREIGN KEY (warehouse_id) REFERENCES warehouses(warehouse_id)
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–µ—Å—Ç—Ä –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É

**–°—Ç–∞—Ç—É—Å—ã:** Pending ‚Üí Processing ‚Üí Shipped ‚Üí Delivered ‚Üí Cancelled

**–ü—Ä–∏–º–µ—Ä:**
```
| –ù–æ–º–µ—Ä         | –ö–ª–∏–µ–Ω—Ç ID | –°—Ç–∞—Ç—É—Å    | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|---------------|-----------|-----------|-----------|-----------|
| ORD-2024-00001| 1         | Delivered | Normal    | 35000     |
| ORD-2024-00002| 2         | In Transit| High      | 52000     |
```

---

#### 8Ô∏è‚É£ **shipments** (–ü–∞—Ä—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏)

```sql
CREATE TABLE shipments (
    shipment_id SERIAL PRIMARY KEY,
    shipment_number VARCHAR(50) UNIQUE NOT NULL,  -- SHIP-2024-00001
    order_id INT NOT NULL,                        -- –ó–∞–∫–∞–∑
    vehicle_id INT NOT NULL,                      -- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
    driver_id INT NOT NULL,                       -- –í–æ–¥–∏—Ç–µ–ª—å
    route_id INT NOT NULL,                        -- –ú–∞—Ä—à—Ä—É—Ç
    departure_time TIMESTAMP,
    expected_arrival_time TIMESTAMP,
    actual_arrival_time TIMESTAMP,
    status VARCHAR(50) DEFAULT 'Pending',         -- –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏
    distance_traveled_km DECIMAL(10, 2),
    fuel_consumed_liters DECIMAL(10, 2),
    cost DECIMAL(10, 2) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (vehicle_id) REFERENCES vehicles(vehicle_id),
    FOREIGN KEY (driver_id) REFERENCES drivers(driver_id),
    FOREIGN KEY (route_id) REFERENCES delivery_routes(route_id)
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø–∞—Ä—Ç–∏—è (–æ—Ç–ø—Ä–∞–≤–∫–∞) —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –º–∞—à–∏–Ω—ã –∏ –≤–æ–¥–∏—Ç–µ–ª—è

**–°—Ç–∞—Ç—É—Å—ã:** Pending ‚Üí In Transit ‚Üí Delivered ‚Üí Delayed ‚Üí Failed

---

#### 9Ô∏è‚É£ **deliveries** (–î–æ—Å—Ç–∞–≤–∫–∏)

```sql
CREATE TABLE deliveries (
    delivery_id SERIAL PRIMARY KEY,
    shipment_id INT NOT NULL,              -- –ü–∞—Ä—Ç–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏
    recipient_name VARCHAR(255) NOT NULL,  -- –ü–æ–ª—É—á–∞—Ç–µ–ª—å
    recipient_phone VARCHAR(20) NOT NULL,
    recipient_address VARCHAR(255) NOT NULL,
    recipient_city VARCHAR(100) NOT NULL,
    delivery_time TIMESTAMP,
    signature_required BOOLEAN DEFAULT FALSE,
    signature_obtained BOOLEAN DEFAULT FALSE,
    signature_date TIMESTAMP,
    delivery_notes TEXT,
    status VARCHAR(50) DEFAULT 'Pending',
    attempts INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (shipment_id) REFERENCES shipments(shipment_id)
);
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –∞–¥—Ä–µ—Å–∞—Ç—É

**–°—Ç–∞—Ç—É—Å—ã:** Pending ‚Üí In Transit ‚Üí Delivered ‚Üí Failed ‚Üí Reattempt

---

### –ò–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```sql
CREATE INDEX idx_orders_customer ON orders(customer_id);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_delivery_date ON orders(delivery_date);
CREATE INDEX idx_shipments_vehicle ON shipments(vehicle_id);
CREATE INDEX idx_shipments_driver ON shipments(driver_id);
CREATE INDEX idx_shipments_status ON shipments(status);
CREATE INDEX idx_deliveries_shipment ON deliveries(shipment_id);
CREATE INDEX idx_deliveries_status ON deliveries(status);
```

---

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)

#### View: order_statistics
```sql
CREATE VIEW order_statistics AS
SELECT 
    COUNT(*) as total_orders,
    COUNT(CASE WHEN status = 'Delivered' THEN 1 END) as delivered_orders,
    COUNT(CASE WHEN status = 'In Transit' THEN 1 END) as in_transit_orders,
    ROUND(AVG(cost)::NUMERIC, 2) as avg_order_cost,
    SUM(cost) as total_revenue
FROM orders;
```

#### View: driver_activity
```sql
CREATE VIEW driver_activity AS
SELECT 
    d.driver_id,
    e.full_name,
    COUNT(s.shipment_id) as total_shipments,
    AVG(d.rating) as avg_rating,
    COUNT(CASE WHEN s.status = 'Delivered' THEN 1 END) as delivered_shipments
FROM drivers d
JOIN employees e ON d.employee_id = e.employee_id
LEFT JOIN shipments s ON d.driver_id = s.driver_id
GROUP BY d.driver_id, e.full_name;
```

---

## üîå Backend API (FastAPI)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install fastapi sqlalchemy psycopg2-binary uvicorn pydantic python-dotenv
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```python
from fastapi import FastAPI, HTTPException, Depends, Query
from fastapi.middleware.cors import CORSMiddleware
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker, Session
from pydantic import BaseModel
from datetime import datetime, date

# === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
DATABASE_URL = os.getenv(
    "DATABASE_URL",
    "postgresql://logistics:logistics_password@postgres:5432/logistics_db"
)

app = FastAPI(
    title="Logistics Management System API",
    description="API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π –∏ –¥–æ—Å—Ç–∞–≤–∫–æ–π",
    version="1.0.0"
)

# CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# –ë–î
engine = create_engine(DATABASE_URL)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)
```

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy ORM)

#### Employee Model
```python
class EmployeeModel(Base):
    __tablename__ = "employees"
    
    employee_id = Column(Integer, primary_key=True, index=True)
    full_name = Column(String(255), nullable=False)
    position = Column(String(100), nullable=False)
    email = Column(String(100), unique=True, nullable=False)
    phone = Column(String(20), nullable=False)
    hire_date = Column(Date, nullable=False)
    salary = Column(DECIMAL(10, 2), nullable=False)
    is_active = Column(Boolean, default=True)
    created_at = Column(DateTime, default=datetime.utcnow)
```

#### Order Model
```python
class OrderModel(Base):
    __tablename__ = "orders"
    
    order_id = Column(Integer, primary_key=True, index=True)
    order_number = Column(String(50), unique=True, nullable=False)
    customer_id = Column(Integer, ForeignKey("customers.customer_id"), nullable=False)
    warehouse_id = Column(Integer, ForeignKey("warehouses.warehouse_id"), nullable=False)
    order_date = Column(Date, nullable=False)
    delivery_date = Column(Date, nullable=False)
    total_weight_kg = Column(DECIMAL(10, 2))
    total_volume_cubic_m = Column(DECIMAL(10, 2))
    status = Column(String(50), default="Pending")  # Pending, Processing, Shipped, Delivered
    priority = Column(String(20), default="Normal")  # Low, Normal, High, Urgent
    cost = Column(DECIMAL(10, 2), nullable=False)
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)
```

---

### Pydantic Schemas (–í–∞–ª–∏–¥–∞—Ü–∏—è)

```python
class OrderSchema(BaseModel):
    order_number: str
    customer_id: int
    warehouse_id: int
    order_date: date
    delivery_date: date
    total_weight_kg: Optional[float] = None
    total_volume_cubic_m: Optional[float] = None
    status: str = "Pending"
    priority: str = "Normal"
    cost: float
    notes: Optional[str] = None

    class Config:
        from_attributes = True
```

---

### API Endpoints

#### üì¶ –ó–ê–ö–ê–ó–´ (Orders)

```python
# GET - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã
@app.get("/api/orders", tags=["Orders"])
def get_orders(status: Optional[str] = None, skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    query = db.query(OrderModel)
    if status:
        query = query.filter(OrderModel.status == status)
    return {
        "total": query.count(),
        "data": query.offset(skip).limit(limit).all()
    }

# POST - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
@app.post("/api/orders", tags=["Orders"])
def create_order(order: OrderSchema, db: Session = Depends(get_db)):
    new_order = OrderModel(**order.dict())
    db.add(new_order)
    db.commit()
    db.refresh(new_order)
    return {
        "id": new_order.order_id,
        "message": "–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω",
        "order": new_order
    }

# GET - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID
@app.get("/api/orders/{order_id}", tags=["Orders"])
def get_order(order_id: int, db: Session = Depends(get_db)):
    order = db.query(OrderModel).filter(OrderModel.order_id == order_id).first()
    if not order:
        raise HTTPException(status_code=404, detail="–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω")
    return order

# PUT - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
@app.put("/api/orders/{order_id}/status", tags=["Orders"])
def update_order_status(order_id: int, status: str, db: Session = Depends(get_db)):
    order = db.query(OrderModel).filter(OrderModel.order_id == order_id).first()
    if not order:
        raise HTTPException(status_code=404, detail="–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω")
    order.status = status
    order.updated_at = datetime.utcnow()
    db.commit()
    return {"message": f"–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ {status}"}
```

#### üöö –î–û–°–¢–ê–í–ö–ò (Shipments)

```python
# GET - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏
@app.get("/api/shipments", tags=["Shipments"])
def get_shipments(status: Optional[str] = None, db: Session = Depends(get_db)):
    query = db.query(ShipmentModel)
    if status:
        query = query.filter(ShipmentModel.status == status)
    return {
        "total": query.count(),
        "data": query.all()
    }

# POST - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–æ—Å—Ç–∞–≤–∫—É
@app.post("/api/shipments", tags=["Shipments"])
def create_shipment(shipment: ShipmentSchema, db: Session = Depends(get_db)):
    new_shipment = ShipmentModel(**shipment.dict())
    db.add(new_shipment)
    db.commit()
    db.refresh(new_shipment)
    return {
        "id": new_shipment.shipment_id,
        "message": "–î–æ—Å—Ç–∞–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞"
    }

# PUT - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏
@app.put("/api/shipments/{shipment_id}/status", tags=["Shipments"])
def update_shipment_status(shipment_id: int, status: str, db: Session = Depends(get_db)):
    shipment = db.query(ShipmentModel).filter(ShipmentModel.shipment_id == shipment_id).first()
    if not shipment:
        raise HTTPException(status_code=404, detail="–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
    shipment.status = status
    if status == "In Transit":
        shipment.departure_time = datetime.utcnow()
    elif status == "Delivered":
        shipment.actual_arrival_time = datetime.utcnow()
    shipment.updated_at = datetime.utcnow()
    db.commit()
    return {"message": "–°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω"}
```

#### üë• –ö–õ–ò–ï–ù–¢–´ (Customers)

```python
# GET - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
@app.get("/api/customers", tags=["Customers"])
def get_customers(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):
    customers = db.query(CustomerModel).offset(skip).limit(limit).all()
    return {
        "total": db.query(CustomerModel).count(),
        "data": customers
    }

# POST - –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
@app.post("/api/customers", tags=["Customers"])
def create_customer(customer: CustomerSchema, db: Session = Depends(get_db)):
    new_customer = CustomerModel(**customer.dict())
    db.add(new_customer)
    db.commit()
    db.refresh(new_customer)
    return {
        "id": new_customer.customer_id,
        "message": "–ö–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
    }
```

#### üöó –í–û–î–ò–¢–ï–õ–ò (Drivers)

```python
# GET - –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π
@app.get("/api/drivers", tags=["Drivers"])
def get_drivers(available_only: bool = False, db: Session = Depends(get_db)):
    query = db.query(DriverModel)
    if available_only:
        query = query.filter(DriverModel.is_available == True)
    return {
        "total": query.count(),
        "data": query.all()
    }

# PUT - –û–±–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª—è
@app.put("/api/drivers/{driver_id}/availability", tags=["Drivers"])
def update_driver_availability(driver_id: int, is_available: bool, db: Session = Depends(get_db)):
    driver = db.query(DriverModel).filter(DriverModel.driver_id == driver_id).first()
    if not driver:
        raise HTTPException(status_code=404, detail="–í–æ–¥–∏—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")
    driver.is_available = is_available
    db.commit()
    return {"message": f"–í–æ–¥–∏—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω: {is_available}"}
```

#### üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê (Analytics)

```python
# GET - –î–æ—Ö–æ–¥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
@app.get("/api/analytics/revenue", tags=["Analytics"])
def revenue_analytics(db: Session = Depends(get_db)):
    from sqlalchemy import func
    total_revenue = db.query(func.sum(OrderModel.cost)).scalar() or 0
    total_shipments = db.query(func.count(ShipmentModel.shipment_id)).scalar() or 0
    avg_shipment_cost = db.query(func.avg(ShipmentModel.cost)).scalar() or 0
    
    return {
        "total_revenue": float(total_revenue),
        "total_shipments": total_shipments,
        "average_shipment_cost": float(avg_shipment_cost)
    }

# GET - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π
@app.get("/api/analytics/driver-performance", tags=["Analytics"])
def driver_performance(db: Session = Depends(get_db)):
    from sqlalchemy import func
    result = db.query(
        DriverModel.driver_id,
        EmployeeModel.full_name,
        func.count(ShipmentModel.shipment_id).label("deliveries"),
        DriverModel.rating
    ).join(EmployeeModel).outerjoin(ShipmentModel).group_by(
        DriverModel.driver_id, EmployeeModel.full_name, DriverModel.rating
    ).all()
    
    return {
        "data": [
            {
                "driver_id": r[0],
                "name": r[1],
                "deliveries": r[2],
                "rating": float(r[3])
            }
            for r in result
        ]
    }
```

#### ‚ù§Ô∏è HEALTH CHECK

```python
@app.get("/api/health", tags=["System"])
def health_check():
    return {
        "status": "healthy",
        "timestamp": datetime.utcnow().isoformat()
    }
```

---

## üé® Frontend (HTML/JavaScript)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞

```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏—Å—Ç–∏–∫–æ–π</title>
    <style>
        /* –°—Ç–∏–ª–∏ */
    </style>
</head>
<body>
    <header>...</header>
    <nav>...</nav>
    <main>
        <div id="dashboard" class="tab-content active">...</div>
        <div id="orders" class="tab-content">...</div>
        <div id="shipments" class="tab-content">...</div>
        <div id="customers" class="tab-content">...</div>
        <div id="drivers" class="tab-content">...</div>
        <div id="vehicles" class="tab-content">...</div>
        <div id="analytics" class="tab-content">...</div>
    </main>
    <footer>...</footer>
    <script>
        // JavaScript –∫–æ–¥
    </script>
</body>
</html>
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏

#### 1. DASHBOARD (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- –í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤
- –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∑–∞–∫–∞–∑–æ–≤
- –í –ø—É—Ç–∏
- –î–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π
- –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–∫–∞–∑–æ–≤

```javascript
async function loadDashboard() {
    try {
        const ordersRes = await fetch(`${API_URL}/orders`);
        const ordersData = await ordersRes.json();
        
        const driversRes = await fetch(`${API_URL}/drivers?available_only=true`);
        const driversData = await driversRes.json();
        
        document.getElementById('stat-orders').textContent = ordersData.total;
        document.getElementById('stat-drivers').textContent = driversData.total;
        
        const delivered = ordersData.data.filter(o => o.status === 'Delivered').length;
        const inTransit = ordersData.data.filter(o => o.status === 'In Transit').length;
        
        document.getElementById('stat-delivered').textContent = delivered;
        document.getElementById('stat-in-transit').textContent = inTransit;
        
        // –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É
        const tbody = document.querySelector('table tbody');
        tbody.innerHTML = ordersData.data.slice(0, 5).map(order => `
            <tr>
                <td>${order.order_number}</td>
                <td>Customer ${order.customer_id}</td>
                <td><span class="badge ${order.status === 'Delivered' ? 'badge-success' : 'badge-pending'}">${order.status}</span></td>
                <td>${order.delivery_date}</td>
                <td>${order.cost}</td>
            </tr>
        `).join('');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
        showAlert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'danger');
    }
}
```

#### 2. ORDERS (–ó–∞–∫–∞–∑—ã)

- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ö–Ω–æ–ø–∫–∞ "–ù–æ–≤—ã–π –∑–∞–∫–∞–∑"
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

```javascript
async function loadOrders() {
    try {
        const status = document.getElementById('order-status-filter')?.value;
        let url = `${API_URL}/orders`;
        if (status) url += `?status=${status}`;
        
        const response = await fetch(url);
        const data = await response.json();
        
        const tbody = document.querySelector('#orders-table tbody');
        tbody.innerHTML = data.data.map(order => `
            <tr>
                <td>${order.order_number}</td>
                <td>Customer ${order.customer_id}</td>
                <td><span class="badge ${order.status === 'Delivered' ? 'badge-success' : 'badge-pending'}">${order.status}</span></td>
                <td>${order.priority}</td>
                <td>${order.delivery_date}</td>
                <td>${order.cost}</td>
            </tr>
        `).join('');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    }
}

function openOrderModal() {
    document.getElementById('orderModal').classList.add('active');
    loadDropdowns();
}

function closeOrderModal() {
    document.getElementById('orderModal').classList.remove('active');
    document.getElementById('orderForm').reset();
}

async function saveOrder() {
    try {
        const formData = {
            order_number: document.getElementById('ordernumber').value,
            customer_id: parseInt(document.getElementById('customerid').value),
            warehouse_id: parseInt(document.getElementById('warehouseid').value || 1),
            order_date: new Date().toISOString().split('T')[0],
            delivery_date: document.getElementById('deliverydate').value,
            description: document.getElementById('description').value,
            priority: document.getElementById('priority').value,
            cost: parseFloat(document.getElementById('cost').value),
            status: 'Pending'
        };
        
        const response = await fetch(`${API_URL}/orders`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        });
        
        if (response.ok) {
            showAlert('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!', 'success');
            closeOrderModal();
            loadOrders();
        } else {
            showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏', 'danger');
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    }
}
```

#### 3. SHIPMENTS (–î–æ—Å—Ç–∞–≤–∫–∏)

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–∏—è–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞

#### 4. CUSTOMERS (–ö–ª–∏–µ–Ω—Ç—ã)

–†–µ–µ—Å—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö

#### 5. DRIVERS (–í–æ–¥–∏—Ç–µ–ª–∏)

–°–ø–∏—Å–æ–∫ –≤–æ–¥–∏—Ç–µ–ª–µ–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ª–∏—Ü–µ–Ω–∑–∏—è—Ö –∏ —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö

#### 6. VEHICLES (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç)

–†–µ–µ—Å—Ç—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

#### 7. ANALYTICS (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)

```javascript
async function loadAnalytics() {
    try {
        const revenueRes = await fetch(`${API_URL}/analytics/revenue`);
        const revenueData = await revenueRes.json();
        
        document.getElementById('total-revenue').textContent = 
            Math.round(revenueData.total_revenue);
        document.getElementById('total-shipments').textContent = 
            revenueData.total_shipments;
        document.getElementById('avg-cost').textContent = 
            Math.round(revenueData.average_shipment_cost);
        
        const performanceRes = await fetch(`${API_URL}/analytics/driver-performance`);
        const performanceData = await performanceRes.json();
        
        const tbody = document.querySelector('#driver-performance-table tbody');
        tbody.innerHTML = performanceData.data.map(driver => `
            <tr>
                <td>${driver.name}</td>
                <td>${driver.deliveries}</td>
                <td>${driver.rating}</td>
            </tr>
        `).join('');
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    }
}
```

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è (CSS)

```css
:root {
    --primary-color: #2563eb;
    --primary-dark: #1e40af;
    --secondary-color: #059669;
    --danger-color: #dc2626;
    --warning-color: #d97706;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --bg-light: #f9fafb;
    --bg-white: #ffffff;
    --border-color: #e5e7eb;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: var(--bg-light);
    color: var(--text-primary);
    line-height: 1.6;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
}

header {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 30px 0;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.card {
    background: var(--bg-white);
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
    padding: 20px;
}

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
}

.btn-primary {
    background: var(--primary-color);
    color: white;
}

.btn-primary:hover {
    background: var(--primary-dark);
}

.btn-danger {
    background: var(--danger-color);
    color: white;
}

.table {
    width: 100%;
    border-collapse: collapse;
}

.table th {
    background: var(--bg-light);
    padding: 12px;
    text-align: left;
    font-weight: 600;
}

.table td {
    padding: 12px;
    border-bottom: 1px solid var(--border-color);
}

.badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.badge-success {
    background: rgba(5, 150, 105, 0.1);
    color: var(--secondary-color);
}

.badge-pending {
    background: rgba(217, 119, 6, 0.1);
    color: var(--warning-color);
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--bg-white);
    border-radius: 8px;
    max-width: 600px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
}
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Git
- PostgreSQL 15+ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/ZybinIvan/database_project.git
cd database_project

# 2. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cp .env.example .env

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d --build

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# 5. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# API Docs:  http://localhost:8000/docs
# Web UI:    http://localhost:8001
# API:       http://localhost:8000/api
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–µ–∑ Docker

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
pip install -r requirements.txt

# 2. –°–æ–∑–¥–∞—Ç—å –ë–î PostgreSQL
createdb logistics_db
psql logistics_db < database_schema.sql

# 3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
python populate_database.py

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI —Å–µ—Ä–≤–µ—Ä
python -m uvicorn fastapi_backend:app --host 0.0.0.0 --port 8000 --reload

# 5. –û—Ç–∫—Ä—ã—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ interface_web.html –≤ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä:
python -m http.server 8001
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# .env —Ñ–∞–π–ª
DB_HOST=postgres
DB_PORT=5432
DB_NAME=logistics_db
DB_USER=logistics
DB_PASSWORD=logistics_password
API_HOST=0.0.0.0
API_PORT=8000
DATABASE_URL=postgresql://logistics:logistics_password@postgres:5432/logistics_db
```

---

## üì° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### Base URL
```
http://localhost:8000/api
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
API –æ—Ç–∫—Ä—ã—Ç –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å JWT)

### Content-Type
```
application/json
```

---

## üìå –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã

```bash
curl -X GET "http://localhost:8000/api/orders" \
  -H "Content-Type: application/json"
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "total": 20,
    "data": [
        {
            "order_id": 1,
            "order_number": "ORD-2024-00001",
            "customer_id": 1,
            "warehouse_id": 1,
            "order_date": "2024-12-01",
            "delivery_date": "2024-12-10",
            "status": "Delivered",
            "priority": "Normal",
            "cost": 35000.00,
            "created_at": "2024-12-01T10:00:00"
        }
    ]
}
```

### 2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑

```bash
curl -X POST "http://localhost:8000/api/orders" \
  -H "Content-Type: application/json" \
  -d '{
    "order_number": "ORD-2024-00021",
    "customer_id": 2,
    "warehouse_id": 1,
    "order_date": "2024-12-23",
    "delivery_date": "2024-12-30",
    "total_weight_kg": 150.5,
    "total_volume_cubic_m": 5.2,
    "status": "Pending",
    "priority": "High",
    "cost": 45000.00,
    "description": "–í–∞–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "id": 21,
    "message": "–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω",
    "order": { ... }
}
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞

```bash
curl -X PUT "http://localhost:8000/api/orders/1/status" \
  -H "Content-Type: application/json" \
  -d '{"status": "Shipped"}'
```

–∏–ª–∏

```bash
curl -X PUT "http://localhost:8000/api/orders/1/status?status=Shipped"
```

### 4. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É

```bash
curl -X GET "http://localhost:8000/api/shipments?status=In%20Transit" \
  -H "Content-Type: application/json"
```

### 5. –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É

```bash
curl -X POST "http://localhost:8000/api/shipments" \
  -H "Content-Type: application/json" \
  -d '{
    "shipment_number": "SHIP-2024-00001",
    "order_id": 1,
    "vehicle_id": 1,
    "driver_id": 1,
    "route_id": 1,
    "status": "Pending",
    "cost": 5000.00
  }'
```

### 6. –ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É

```bash
curl -X GET "http://localhost:8000/api/analytics/revenue" \
  -H "Content-Type: application/json"
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "total_revenue": 700000.00,
    "total_shipments": 15,
    "average_shipment_cost": 46666.67
}
```

### 7. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π

```bash
curl -X GET "http://localhost:8000/api/analytics/driver-performance" \
  -H "Content-Type: application/json"
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "data": [
        {
            "driver_id": 1,
            "name": "–°–µ—Ä–≥–µ–π –ö—É–∑–Ω–µ—Ü–æ–≤",
            "deliveries": 5,
            "rating": 4.8
        },
        {
            "driver_id": 2,
            "name": "–ï–ª–µ–Ω–∞ –í–æ–ª–∫–æ–≤–∞",
            "deliveries": 4,
            "rating": 4.9
        }
    ]
}
```

### 8. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π

```bash
curl -X GET "http://localhost:8000/api/drivers?available_only=true" \
  -H "Content-Type: application/json"
```

### 9. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

```bash
curl -X GET "http://localhost:8000/api/customers" \
  -H "Content-Type: application/json"
```

### 10. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

```bash
curl -X POST "http://localhost:8000/api/customers" \
  -H "Content-Type: application/json" \
  -d '{
    "company_name": "–û–û–û \"–ù–æ–≤–∞—è –õ–æ–≥–∏—Å—Ç–∏–∫–∞\"",
    "contact_person": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@newlogistics.ru",
    "phone": "+7-999-123-4567",
    "city": "–ú–æ—Å–∫–≤–∞",
    "address": "—É–ª. –ù–æ–≤–∞—è, –¥. 10",
    "postal_code": "101000",
    "registration_date": "2024-12-23",
    "is_active": true
  }'
```

---

## üê≥ Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
version: '3.8'

services:
  # PostgreSQL –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  postgres:
    image: postgres:15-alpine
    container_name: logistics_postgres
    environment:
      POSTGRES_USER: logistics
      POSTGRES_PASSWORD: logistics_password
      POSTGRES_DB: logistics_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database_schema.sql:/docker-entrypoint-initdb.d/01-schema.sql
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U logistics"]
      interval: 10s
      timeout: 5s
      retries: 5
    networks:
      - logistics_network

  # FastAPI Backend
  api:
    build: .
    container_name: logistics_api
    ports:
      - "8000:8000"
    environment:
      DATABASE_URL: postgresql://logistics:logistics_password@postgres:5432/logistics_db
      API_HOST: 0.0.0.0
      API_PORT: 8000
    depends_on:
      postgres:
        condition: service_healthy
    volumes:
      - ./fastapi_backend.py:/app/fastapi_backend.py
      - ./populate_database.py:/app/populate_database.py
    command: bash -c "python populate_database.py && python -m uvicorn fastapi_backend:app --host 0.0.0.0 --port 8000"
    networks:
      - logistics_network

  # Nginx Web Server
  web:
    image: nginx:alpine
    container_name: logistics_web
    ports:
      - "8001:80"
    volumes:
      - ./interface_web.html:/usr/share/nginx/html/index.html:ro
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - api
    networks:
      - logistics_network

networks:
  logistics_network:
    driver: bridge

volumes:
  postgres_data:
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
database_project/
‚îú‚îÄ‚îÄ fastapi_backend.py          # –û—Å–Ω–æ–≤–Ω–æ–π API —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ interface_web.html          # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (HTML+CSS+JS)
‚îú‚îÄ‚îÄ database_schema.sql         # SQL —Å—Ö–µ–º–∞ –ë–î
‚îú‚îÄ‚îÄ populate_database.py        # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑ –¥–ª—è API
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ nginx.conf                  # –ö–æ–Ω—Ñ–∏–≥ Nginx
‚îú‚îÄ‚îÄ .dockerignore               # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
‚îú‚îÄ‚îÄ .env.example                # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Makefile                    # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md                   # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ DOCKER.md                   # Docker –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICK_START.md              # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ PROJECT_GUIDE.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# Docker Compose
docker-compose up -d                    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down                     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose logs -f                  # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose ps                       # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down -v                  # –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Ç–æ–º–∞

# Makefile –∫–æ–º–∞–Ω–¥—ã
make up                                 # docker-compose up -d
make down                               # docker-compose down
make logs                               # docker-compose logs -f
make restart                            # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make shell                              # bash –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ API
make db-shell                           # psql –≤ PostgreSQL
make backup                             # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î
make restore FILE=backup.dump           # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î

# –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -h localhost -U logistics -d logistics_db -c "SELECT * FROM orders LIMIT 5;"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
curl http://localhost:8000/api/health

# Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
http://localhost:8000/docs
http://localhost:8000/redoc
```

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

```sql
CREATE INDEX CONCURRENTLY idx_orders_status_date ON orders(status, order_date DESC);
CREATE INDEX CONCURRENTLY idx_shipments_driver_status ON shipments(driver_id, status);
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from functools import lru_cache

@app.get("/api/analytics/summary", tags=["Analytics"])
@lru_cache(maxsize=32)
def get_analytics_summary(db: Session = Depends(get_db)):
    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    pass
```

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è

```python
@app.get("/api/orders", tags=["Orders"])
def get_orders(
    skip: int = Query(0, ge=0),
    limit: int = Query(100, ge=1, le=1000),
    db: Session = Depends(get_db)
):
    return {
        "total": db.query(OrderModel).count(),
        "skip": skip,
        "limit": limit,
        "data": db.query(OrderModel).offset(skip).limit(limit).all()
    }
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é JWT

```python
from fastapi.security import HTTPBearer, HTTPAuthCredentials
from jose import JWTError, jwt

security = HTTPBearer()

def verify_token(credentials: HTTPAuthCredentials = Depends(security)):
    token = credentials.credentials
    try:
        payload = jwt.decode(token, "SECRET_KEY", algorithms=["HS256"])
        return payload
    except JWTError:
        raise HTTPException(status_code=401, detail="Invalid token")

@app.post("/api/login")
def login(username: str, password: str):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    token = jwt.encode({"sub": username}, "SECRET_KEY", algorithm="HS256")
    return {"access_token": token, "token_type": "bearer"}
```

### Rate limiting

```python
from slowapi import Limiter
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)
app.state.limiter = limiter

@app.get("/api/orders")
@limiter.limit("100/minute")
def get_orders(request: Request, db: Session = Depends(get_db)):
    pass
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–î –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ PostgreSQL
docker-compose ps postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs postgres

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down
docker-compose up -d --build
```

### –ü—Ä–æ–±–ª–µ–º–∞: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –æ—à–∏–±–∫—É

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ API
docker-compose logs -f api

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker exec -it logistics_api python -c "import psycopg2; psycopg2.connect('postgresql://logistics:logistics_password@postgres:5432/logistics_db')"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl http://localhost:8001

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Nginx
docker-compose logs -f web

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
docker exec logistics_web nginx -t
```

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**Ivan Zybin** - GitHub: https://github.com/ZybinIvan

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

- GitHub: https://github.com/ZybinIvan/database_project
- Issues: https://github.com/ZybinIvan/database_project/issues
- Email: (—É–∫–∞–∂–∏—Ç–µ –≤–∞—à email)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 23 –¥–µ–∫–∞–±—Ä—è 2025 –≥.

**–í–µ—Ä—Å–∏—è:** 1.0.0

**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
